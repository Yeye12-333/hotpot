<html lang="zh" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <base href="/">
    <link rel="stylesheet" type="text/css" href="css/login.css"/>
    <link rel="stylesheet" type="text/css" href="css/font-awesome.css"/>
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css"/>
    <script src="js/jquery.js" type="text/javascript" charset="utf-8"></script>
    <title></title>
    <style>
        html{
            /*background-color: #f2f2f2;*/
            background: url("/images/134b35fcb22218e0734d5a86c78fc9d.jpg") no-repeat 0/cover;
        }
    </style>
</head>
<body>
<div class="container">
    <form action="/user/create" class="layui-form" method="post">
        <ul>
            <li><h2>用户注册</h2></li>
            <li><i class="fa fa-user-o" aria-hidden="true"></i><label for=""></label><input
                    type="text" required
                    placeholder="用户名"
                    name="username"
                    lay-verify="required"
                    /></li>
            <li><i class="fa fa-unlock-alt" aria-hidden="true"></i><label for=""></label><input
                    type="password"
                    required
                    placeholder="密码"
                    name="password"
                    lay-verify="required"
                    />
            </li>
            <li><a href="/">我要登录!</a></li>
            <li class="tip" th:text="${#request.getParameter('error')}"></li>
            <li><input type="submit" class="layui-btn" lay-submit lay-filter="dataForm" value="注册"></li>
        </ul>
    </form>
    <div class="copyright">&copy; 用户注册</div>

    <link rel="stylesheet" href="layui/css/layui.css" type="text/css">
    <script src="layui/layui.js" type="text/javascript"></script>

    <script type="text/javascript" >
        layui.use(['form','layer'], function (){
            layui.form.on('submit(dataForm)', function (data){
                $.post('/user/create', data.field, function (res){
                    layui.layer.msg(res.message)
                    if (res.success){
                        document.querySelector('form').reset()
                    }
                })
                return false
            })
        })
    </script>

</div>
</body>
</html>